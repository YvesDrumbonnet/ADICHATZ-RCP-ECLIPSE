/**********************************************************************************************
 * This class was automatically generated by Adichatz tools on Tue Jul 07 08:03:26 CEST 2020
 *
 * 				+----------------------------------------+
 * 				| BE CAREFUL BEFORE UPDATING THIS CLASS! |
 * 				+----------------------------------------+
 *
 * Changes will be transient up to next generation process.
 * **********************************************************************************************/
package org.adichatz.studio.gencode.editor;

import javax.inject.Inject;
import net.miginfocom.swt.MigLayout;
import org.adichatz.engine.common.AdichatzApplication;
import org.adichatz.engine.controller.IContainerController;
import org.adichatz.engine.controller.action.HelpButtonController;
import org.adichatz.engine.controller.collection.CompositeController;
import org.adichatz.engine.controller.collection.SashFormController;
import org.adichatz.engine.controller.field.LabelController;
import org.adichatz.engine.controller.nebula.PGroupController;
import org.adichatz.engine.core.AFormPageCore;
import org.adichatz.engine.core.ControllerCore;
import org.adichatz.engine.core.EntityManagerCore;
import org.adichatz.engine.extra.AdiResourceURI;
import org.adichatz.engine.indigo.controller.LegacyFormPageController;
import org.adichatz.engine.plugin.AdiContext;
import org.adichatz.engine.renderer.AdiFormToolkit;
import org.adichatz.studio.command.CustomScenarioMergeItemController;
import org.adichatz.studio.xjc.controller.CustomFileTextController;
import org.eclipse.jface.resource.JFaceResources;
import org.eclipse.swt.SWT;
import org.eclipse.ui.forms.IFormColors;

@AdiResourceURI(URI="adi://org.adichatz.studio/editor/ScenarioEditor")
public class ScenarioEditorCustomPage extends AFormPageCore {
	// the LegacyFormPageController customPageFP.
	protected LegacyFormPageController customPageFP;
	// the SashFormController parentSashFormSHSF.
	protected SashFormController parentSashFormSHSF;
	// the CompositeController compositeWrapper$$6CMPS.
	protected CompositeController compositeWrapper$$6CMPS;
	// the PGroupController fileGroupPGRP.
	protected PGroupController fileGroupPGRP;
	// the LabelController fileLBLLBL.
	private LabelController fileLBLLBL;
	// the CustomFileTextController scenarioFileNameFT.
	private CustomFileTextController scenarioFileNameFT;
	// the HelpButtonController scenarioFileHlpHB.
	private HelpButtonController scenarioFileHlpHB;
	// the CustomScenarioMergeItemController mergeScenarioPGTI.
	private CustomScenarioMergeItemController mergeScenarioPGTI;
	protected EntityManagerCore scenarioEditorCustomScenarioComposite;
	protected EntityManagerCore scenarioEditorCustomScenarioGroup;
	@Inject
	protected AdiFormToolkit toolkit;
	/**
	 * Creates the formPage ScenarioEditorCustomPage.
	 *
	 * @param context
	 *            The context of the root controller
	 * @param parentController
	 *            The parent controller
	 * @param managedForm
	 *            The managed form
	 */
	public ScenarioEditorCustomPage(final AdiContext context, IContainerController parentController) {
		super(context);
		this.parentController = parentController;
		createContents();
	}

	/**
	 * Create contents for FormPage
	 */
	public void createContents(){
		// Creates control for LegacyFormPageController customPageFP
		customPageFP = new LegacyFormPageController("customPage", parentController, this) {
			@Override
			public void createControl() {
				super.createControl();
				if (isValid()) {
					getControl().getForm().setText(AdichatzApplication.getInstance().getMessage("org.adichatz.studio", "adichatzStudio", "scenario.custom.formText", ((String) context.getParam("pluginName"))));
					getComposite().setLayout(new MigLayout("wrap 1","[grow,fill]","[grow,fill]"));
				}
			}
		};
		coreController = customPageFP;
		// Creates control for SashFormController parentSashFormSHSF
		parentSashFormSHSF = new SashFormController("parentSashForm", customPageFP, this) {
			@Override
			public void createControl() {
				super.createControl();
				if (isValid()) {
					getControl().setOrientation(SWT.HORIZONTAL);
					getComposite().setLayout(new MigLayout("wrap 1","[grow,fill]","[grow,fill]"));
				}
			}
			@Override
			public void endLifeCycle() {
				delegateAfterEndLifeCycleListener = true;
				super.endLifeCycle();
				if (isValid()) {
					getControl().setWeights(new int[]{1,1});
				}
			}
		};
		// Creates control for CompositeController compositeWrapper$$6CMPS
		compositeWrapper$$6CMPS = new CompositeController("compositeWrapper$$6", parentSashFormSHSF, this) {
			@Override
			public void createControl() {
				super.createControl();
				if (isValid()) {
					getComposite().setLayout(new MigLayout("wrap 1","[grow,fill]","[][grow,fill]"));
				}
			}
		};
		// Creates control for PGroupController fileGroupPGRP
		fileGroupPGRP = new PGroupController("fileGroup", compositeWrapper$$6CMPS, this) {
			@Override
			public void createControl() {
				super.createControl();
				if (isValid()) {
					getControl().setText(AdichatzApplication.getInstance().getMessage("org.adichatz.studio", "adichatzStudio", "scenario.custom.choose.file"));
					getComposite().setBackground(toolkit.getColors().getColor(IFormColors.H_GRADIENT_START));
					getComposite().setLayout(new MigLayout("wrap 3","[]15[grow,fill]10[]",null));
					setFont(JFaceResources.getFontRegistry().get(JFaceResources.BANNER_FONT));
				}
			}
		};
		// Creates control for LabelController fileLBLLBL
		fileLBLLBL = new LabelController("fileLBL", fileGroupPGRP, this) {
			@Override
			public void createControl() {
				super.createControl();
				if (isValid()) {
					getControl().setText(AdichatzApplication.getInstance().getMessage("org.adichatz.studio", "adichatzStudio", "scenario.custom.label"));
					setBackground(toolkit.getColors().getColor(IFormColors.H_GRADIENT_START));
				}
			}
		};
		createScenarioFileName(this);
		// Creates control for HelpButtonController scenarioFileHlpHB
		scenarioFileHlpHB = new HelpButtonController("scenarioFileHlp", fileGroupPGRP, this) {
			@Override
			public void createControl() {
				super.createControl();
				if (isValid()) {
					getControl().setImage(toolkit.getRegisteredImage("IMG_HELP"));
					setHelpLabel(AdichatzApplication.getInstance().getMessage("org.adichatz.studio", "adichatzStudio", "scenario.custom.toolTip"));
					setHelpSpecify(AdichatzApplication.getInstance().getMessage("org.adichatz.studio", "adichatzStudio", "scenario.custom.specify"));
					setHelpMessage(AdichatzApplication.getInstance().getMessage("org.adichatz.studio", "adichatzStudio", "scenario.custom.help"));
				}
			}
		};
		// Creates control for CustomScenarioMergeItemController mergeScenarioPGTI
		mergeScenarioPGTI = new CustomScenarioMergeItemController("mergeScenario", fileGroupPGRP, this) {
			@Override
			public void createControl() {
				super.createControl();
				if (isValid()) {
					getControl().setImage(AdichatzApplication.getInstance().getImage("org.adichatz.studio", "IMG_EDIT_SCENARIO.png"));
					getControl().setToolTipText(AdichatzApplication.getInstance().getMessage("org.adichatz.studio", "adichatzStudio", "scenario.custom.merge"));
				}
			}
		};
		
		// loads and instantiates the class ScenarioEditorCustomScenarioComposite.
		scenarioEditorCustomScenarioComposite  = new ScenarioEditorCustomScenarioComposite(context, compositeWrapper$$6CMPS);
		
		// loads and instantiates the class ScenarioEditorCustomScenarioGroup.
		scenarioEditorCustomScenarioGroup  = new ScenarioEditorCustomScenarioGroup(context, parentSashFormSHSF);
	}

	public CustomFileTextController createScenarioFileName(ControllerCore genCode) {
		// Creates control for CustomFileTextController scenarioFileNameFT
		scenarioFileNameFT = new CustomFileTextController("scenarioFileName", getParentController(fileGroupPGRP), genCode) {
			@Override
			public void createControl() {
				super.createControl();
				if (isValid()) {
					getControl().setFilterExtension("*.xml");
				}
			}
		};
		return scenarioFileNameFT;
	}
}